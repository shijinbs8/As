{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" type="text/css" href="">
{% endblock %}
{% block content %}
<style>
@keyframes blink {
  0% {
    color: var(--blink-color-1);
  }
  50% {
    color: transparent;
  }
  100% {
    color: var(--blink-color-2);
  }
}


.blinking {
  animation: blink 1s infinite;
}
.card {
  /* Add shadows to create the "card" effect */
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
  transition: 0.3s;
  display: grid; /* Use grid layout for the card */
  grid-template-columns: 1fr auto; /* Divide the card into two columns */
}
.card {
    opacity: 0; /* Initially hide thlse cards */
    transition: opacity 0.5s ease-in-out; /* Add transition effect */
  }

.card img {
height: 100%;
  width: 80%; /* Set width for the image */
  object-fit: cover; /* Ensure the image covers the container */
  grid-column: 1.8; /* Position the image in the first column */
}

.container1 {
  padding: 20px;
  margin-left: 50px; /* Reduce the left margin */
  flex-grow: 1; /* Allow the container to grow and fill available space */
  display: flex; /* Use flexbox layout for the container */
  flex-direction: column; /* Stack the text vertically */
  justify-content: center; /* Center the text vertically */
}


.container {
  display: flex;
  height: 100vh;
}

.left-section {
  flex-basis: 30%;
  margin-right: 20px; /* Add margin between the sections */
}

.right-section {
  flex-basis: 70%;
  overflow-y: auto; /* Enable vertical scrolling */
  height: calc(100vh - 40px); /* Adjust height based on available viewport height */
}
</style>
<h2>Bus Locator</h2>
<div class="container">
  <div class="left-section">
    <h4><b>School Bus Live Status</b></h4>
<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3608.2256360038367!2d55.30132801447108!3d25.242444883871096!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e5f431f6a21fe35%3A0xb3ed6684c962d8eb!2sAl%20Karama%2C%20Dubai%2C%20United%20Arab%20Emirates!5e0!3m2!1sen!2sae!4v1635723665957!5m2!1sen!2sae" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"  referrerpolicy="no-referrer-when-downgrade"></iframe>  </div>
 <div class="right-section">
                 <h5 class="text-right"> <b>Status : <b class="blinking" style="--blink-color-1: red; --blink-color-2: green;">Live</b></b></h5>

  <h2 class="text-center"><b>Students Attendance</b></h2>
   {% for i in sts %}
  <div class="card p-2">
    <img src="{{i.images.url}}" alt="Avatar">
    <div class="container1">
      <h3><b>{{i.stud_name}}</b></h3>
        <h5>Entry Point : {{i.pls}} </h5>
        <h5>Time Of Entry : {{i.getin}}.15</h5>
        <h5>Exit Status : <b class="blinking" style="">On Board</b></h5>

    </div>
  </div><br>
   {% endfor %}
   <br>
   <br>
   <br>
   <br>
   <br>
   <br>
   <br>
 </div>

  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
 </div>
</div>

<script>
  // Get all the cards with the "card" class
  const cards = document.querySelectorAll('.card');

  // Function to show cards one by one
  function showCards() {
    let index = 0;
    const interval = setInterval(() => {
      if (index >= cards.length) {
        clearInterval(interval); // Stop the interval when all cards are shown
        return;
      }
      cards[index].style.opacity = 1; // Show the card by changing its opacity
      index++;
    }, 1000); // 2-second delay between each card
  }

  // Call the showCards function when the page finishes loading
  window.addEventListener('load', showCards);</script>

{% endblock %}
{% block js %}

<script src="{% static 'bus.js' %}"></script>
{% endblock %}
