{% extends 'base.html' %}
{% load static %}
{% block css %}
<style>
    /* Style for the form container */
    .form-container {
        width: 100%;
        display: flex;
        justify-content: center;
    }

    /* Style for the form labels container */
    .labels-container {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-bottom: 10px;
    }

    /* Style for the form labels */
    .labels-container label {
        width: 100px;
        text-align: right;
        margin-right: 10px;
    }

    /* Style for the form inputs */
    select,
    input[type="submit"] {
        width: 200px;
        padding: 5px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
    }

    /* Style for the submit button */
    input[type="submit"] {
        background-color: #4CAF50;
        color: white;
        cursor: pointer;
    }

    /* Style for the select dropdowns */
    select {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background: url("dropdown-arrow.png") no-repeat;
        background-position: 95% center;
    }

    /* Additional styling for the select dropdowns on focus */
    select:focus {
        outline: none;
        border: 1px solid #4CAF50;
    }
</style>

{% endblock %}
{% block content %}
<h2>Focus Level</h2>
<div class="form-container">
    <form action="" method="POST">
        {% csrf_token %}
        <div class="labels-container">

            <label for="class">Class:</label>
            <label for="division">Division:</label>
             <label for="csv_file">Student Name:</label>
        </div>
        <div class="labels-container">

            <select id="class" name="class" required>
                <option value="" selected disabled hidden>Select a class</option>
                <option value="Class 1">Class 1</option>
                <option value="Class 2">Class 2</option>
                <option value="Class 3">Class 3</option>
                <option value="Class 4">Class 4</option>
                <option value="Class 5">Class 5</option>
                <option value="Class 6">Class 6</option>
                <option value="Class 7">Class 7</option>
                <option value="Class 8">Class 8</option>
                <option value="Class 9">Class 9</option>
                <option value="Class 10">Class 10</option>
            </select>
            <br>
            <select id="division" name="division" required>
                <option value="" selected disabled hidden>Select a division</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
            </select>
            <br>
              <select id="csv_file" name="csv_file" required>
                <option value="" selected disabled hidden>Select a file</option>
                {% for file in csv_files %}
                    <option value="{{ file }}">{{ file }}</option>
                {% endfor %}
            </select>
        </div>
        <div style="display: flex; justify-content: center;">
            <input type="submit" value="Generate Chart">
        </div>
    </form>
</div>

    {% if plot_image %}
    <h2>Generated Chart:</h2>
    <img src="data:image/png;base64,{{ plot_image }}" alt="Chart">
    {% endif %}
{% endblock %}
{% block js %}
{% endblock %}